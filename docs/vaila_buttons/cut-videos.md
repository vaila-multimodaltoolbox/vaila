# Cut Videos Tool

## Overview

The **Cut Videos** tool (`cutvideo.py`) provides an interactive video cutting interface with **scientific precision** for research applications. It allows users to visually mark cut points in videos, save cut information, and generate precisely cut video segments while preserving original metadata with high accuracy.

## Key Features

- **Scientific Precision**: Uses `ffmpeg` to preserve exact frame rates (e.g., 59.94005994005994 fps) without rounding
- **Metadata Preservation**: Maintains original codec, frame rate, and video properties
- **Interactive Video Player**: Pygame-based player with frame-accurate navigation
- **Visual Cut Marking**: Mark start and end frames visually while playing video
- **Sync File Support**: Load cuts from synchronization files generated by `syncvid.py`
- **Batch Processing**: Apply same cuts to multiple videos in a directory
- **Cut Management**: Save, load, list, and remove cuts
- **Resizable Window**: Adjustable window size for different video resolutions

## How to Use

### Accessing the Tool

1. Launch vailá GUI (`vaila.py`)
2. Navigate to **Tools** section
3. Click **Cut Videos** button
4. Select a video file from the file dialog

### Interactive Controls

#### Navigation
- **Space**: Play/Pause video
- **Right Arrow**: Next frame (when paused)
- **Left Arrow**: Previous frame (when paused)
- **Up Arrow**: Fast forward 60 frames
- **Down Arrow**: Rewind 60 frames
- **Mouse Click on Slider**: Jump to specific frame

#### Cutting Operations
- **S**: Mark start frame of current cut
- **E**: Mark end frame of current cut (must be after start)
- **R**: Reset current cut (clear start marker)
- **DELETE**: Remove last cut from list
- **L**: List all marked cuts

#### File Operations
- **F**: Load sync file (from Make Sync File tool)
- **ESC**: Save cuts to file and optionally generate videos

### Workflow

1. **Load Video**: Select video file to cut
2. **Navigate**: Use arrow keys or slider to find cut points
3. **Mark Cuts**: Press **S** to mark start, **E** to mark end
4. **Review**: Press **L** to list all cuts
5. **Save**: Press **ESC** to save cuts and generate videos

## Scientific Precision

### Frame Rate Preservation
- Uses `ffprobe` to extract exact frame rates as fractions
- Converts to high-precision floats (9 decimal places)
- Preserves non-integer frame rates like 59.94005994005994 fps

### Metadata Preservation
- Attempts to copy original codec without re-encoding (`-c copy`)
- Maintains exact frame rate from source video
- Preserves original video dimensions and quality

## Output Files

1. **Cut Information** (`*_cuts.txt`): Text file listing all cuts
2. **Cut Videos** (`*_frame_X_to_Y.mp4`): Individual video files for each cut
3. **Batch Output**: Directory with all cut videos from batch operation

## Requirements

- **ffmpeg/ffprobe**: Recommended for precise cutting (automatically detected)
- **OpenCV**: Fallback if ffmpeg unavailable
- **Pygame**: For interactive video player

## Related Tools

- **Metadata Info** (`numberframes.py`): Analyze video metadata with scientific precision
- **Sync Videos** (`syncvid.py`): Create synchronization files for multiple videos
- **Resize Video** (`resize_video.py`): Resize videos while preserving metadata

## Documentation

For complete documentation, see:
- [Full Help Documentation](../../vaila/help/cutvideo.html)
- [Markdown Documentation](../../vaila/help/cutvideo.md)
